title: Skylight
theme: default
views:
  - title: Family Calendar
    path: family-calendar
    icon: mdi:calendar-blank-multiple
    type: sections
    max_columns: 10
    sections:
      - type: grid
        column_span: 10
        grid_options:
          columns: 120
        cards:
          - type: custom:button-card
            entity: weather.met_office_wickford
            show_icon: false
            show_name: false
            show_state: false
            styles:
              card:
                - background: transparent
                - box-shadow: none
                - border: none
                - padding: 6px 0 6px 6px
                - height: 56px
              grid:
                - grid-template-areas: '"fam time wicon temp rubbish"'
                - grid-template-columns: auto auto auto auto 1fr
                - column-gap: 10px
                - align-items: center
                - justify-content: space-between
              custom_fields:
                fam:
                  - font-size: 22px
                  - font-weight: 700
                time:
                  - font-size: 22px
                  - font-weight: 700
                wicon:
                  - width: 34px
                  - height: 34px
                temp:
                  - font-size: 22px
                  - font-weight: 700
                rubbish:
                  - font-size: 18px
                  - font-weight: 700
                  - justify-self: end
                  - white-space: nowrap
            custom_fields:
              fam: Arthur Family
              time: |
                [[[
                  const d = new Date();
                  const hh = String(d.getHours()).padStart(2,'0');
                  const mm = String(d.getMinutes()).padStart(2,'0');
                  return `${hh}:${mm}`;
                ]]]
              wicon: |
                [[[
                  const icon = entity?.attributes?.icon || 'mdi:weather-partly-cloudy';
                  return `<ha-icon icon="${icon}" style="width:34px;height:34px;"></ha-icon>`;
                ]]]
              temp: |
                [[[
                  const t = entity?.attributes?.temperature;
                  return (t === undefined || t === null) ? '' : `${Math.round(t)}°C`;
                ]]]
              rubbish: |
                [[[
                  const v = states['sensor.upcoming_rubbish']?.state;
                  return v && v !== 'unknown' ? v : '';
                ]]]
            grid_options:
              columns: 36
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                name: D
                tap_action:
                  action: perform-action
                  perform_action: script.daz_calendar_visible_filter
                styles:
                  card:
                    - width: 44px
                    - height: 44px
                    - border-radius: 50%
                    - box-shadow: none
                    - border: none
                    - padding: 0
                    - background-color: |
                        [[[
                          return (states['input_text.daz_calendar_filter']?.state === '^$')
                            ? '#2962FF'
                            : '#e6e6e6';
                        ]]]
                  name:
                    - font-size: 16px
                    - font-weight: 800
                    - color: black
              - type: custom:button-card
                name: "N"
                tap_action:
                  action: perform-action
                  perform_action: script.nic_calendar_visible_filter
                styles:
                  card:
                    - width: 44px
                    - height: 44px
                    - border-radius: 50%
                    - box-shadow: none
                    - border: none
                    - padding: 0
                    - background-color: |
                        [[[
                          return (states['input_text.nic_calendar_filter']?.state === '^$')
                            ? '#F4A6B8'
                            : '#e6e6e6';
                        ]]]
                  name:
                    - font-size: 16px
                    - font-weight: 800
                    - color: black
              - type: custom:button-card
                name: C
                tap_action:
                  action: perform-action
                  perform_action: script.cerys_calendar_visible_filter
                styles:
                  card:
                    - width: 44px
                    - height: 44px
                    - border-radius: 50%
                    - box-shadow: none
                    - border: none
                    - padding: 0
                    - background-color: |
                        [[[
                          return (states['input_text.cerys_calendar_filter']?.state === '^$')
                            ? '#9DB8A0'
                            : '#e6e6e6';
                        ]]]
                  name:
                    - font-size: 16px
                    - font-weight: 800
                    - color: black
              - type: custom:button-card
                name: D
                tap_action:
                  action: perform-action
                  perform_action: script.dex_calendar_visible_filter
                styles:
                  card:
                    - width: 44px
                    - height: 44px
                    - border-radius: 50%
                    - box-shadow: none
                    - border: none
                    - padding: 0
                    - background-color: |
                        [[[
                          return (states['input_text.dex_calendar_filter']?.state === '^$')
                            ? '#FFB703'
                            : '#e6e6e6';
                        ]]]
                  name:
                    - font-size: 16px
                    - font-weight: 800
                    - color: black
              - type: custom:button-card
                name: Add Event
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-skylight/add-event
                styles:
                  card:
                    - height: 44px
                    - min-width: 140px
                    - border-radius: 999px
                    - background: "#efefef"
                    - box-shadow: none
                    - border: none
                  name:
                    - font-size: 15px
                    - font-weight: 700
              - type: custom:button-card
                name: Today
                show_icon: false
                tap_action:
                  action: perform-action
                  perform_action: script.calendar_nav_reset
                styles:
                  card:
                    - height: 44px
                    - min-width: 90px
                    - border-radius: 999px
                    - background: "#efefef"
                    - box-shadow: none
                    - border: none
                  name:
                    - font-size: 15px
                    - font-weight: 700
              - type: custom:bubble-card
                card_type: select
                entity: input_select.calendar_view
                name: ""
                show_name: false
                show_state: true
                styles: |
                  .bubble-button-background {
                    min-width: 95px !important;
                    height: 44px !important;
                    border-radius: 999px !important;
                    opacity: 1 !important;
                    background: #efefef !important;
                  }
              - type: custom:button-card
                icon: mdi:chevron-left
                show_name: false
                show_icon: true
                tap_action:
                  action: perform-action
                  perform_action: script.calendar_nav_prev
                styles:
                  card:
                    - width: 44px
                    - height: 44px
                    - border-radius: 50%
                    - background: "#efefef"
                    - box-shadow: none
                    - border: none
                  icon:
                    - width: 26px
                    - height: 26px
                    - color: black
              - type: custom:button-card
                entity: input_text.calendar_period_label
                show_icon: false
                show_name: false
                show_state: true
                styles:
                  card:
                    - height: 44px
                    - min-width: 130px
                    - border-radius: 999px
                    - background: "#efefef"
                    - box-shadow: none
                    - border: none
                    - padding: 0 10px
                    - display: flex
                    - align-items: center
                    - justify-content: center
                  state:
                    - font-size: 14px
                    - font-weight: 700
              - type: custom:button-card
                icon: mdi:chevron-right
                show_name: false
                show_icon: true
                tap_action:
                  action: perform-action
                  perform_action: script.calendar_nav_next
                styles:
                  card:
                    - width: 44px
                    - height: 44px
                    - border-radius: 50%
                    - background: "#efefef"
                    - box-shadow: none
                    - border: none
                  icon:
                    - width: 26px
                    - height: 26px
                    - color: black
            grid_options:
              columns: 64
      - type: grid
        column_span: 10
        cards:
          - type: custom:config-template-card
            entities:
              - input_text.daz_calendar_filter
              - input_text.nic_calendar_filter
              - input_text.cerys_calendar_filter
              - input_text.dex_calendar_filter
              - input_select.calendar_view
              - input_number.calendar_nav_offset
            variables:
              DAZCAL: states['input_text.daz_calendar_filter']?.state
              NICCAL: states['input_text.nic_calendar_filter']?.state
              CERYSCAL: states['input_text.cerys_calendar_filter']?.state
              DEXCAL: states['input_text.dex_calendar_filter']?.state
              OFFSET: |
                (() => {
                  const msDay = 24*60*60*1000;
                  const now = new Date();
                  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
                  const view = states['input_select.calendar_view']?.state;

                  const startOfWeekMonday = (d) => {
                    const dd = new Date(d.getFullYear(), d.getMonth(), d.getDate());
                    const mondayIndex = (dd.getDay() + 6) % 7;
                    dd.setDate(dd.getDate() - mondayIndex);
                    return dd;
                  };

                  let base = 0;
                  if (view === 'Today') base = 0;
                  else if (view === 'Tomorrow') base = 1;
                  else if (view === 'Week' || view === 'Biweek') {
                    const start = startOfWeekMonday(today);
                    base = Math.round((start - today) / msDay);
                  } else if (view === 'Month') {
                    const first = new Date(today.getFullYear(), today.getMonth(), 1);
                    const start = startOfWeekMonday(first);
                    base = Math.round((start - today) / msDay);
                  } else {
                    base = 0;
                  }
                  return base + (Number(states['input_number.calendar_nav_offset']?.state || 0));
                })()
              DAYS: |
                (() => {
                  const view = states['input_select.calendar_view']?.state;
                  const now = new Date();
                  const y = now.getFullYear();
                  const m = now.getMonth();

                  const startOfWeekMonday = (d) => {
                    const dd = new Date(d.getFullYear(), d.getMonth(), d.getDate());
                    const mondayIndex = (dd.getDay() + 6) % 7;
                    dd.setDate(dd.getDate() - mondayIndex);
                    dd.setHours(0,0,0,0);
                    return dd;
                  };

                  if (view === 'Today') return 1;
                  if (view === 'Tomorrow') return 1;
                  if (view === 'Week') return 7;
                  if (view === 'Biweek') return 14;

                  if (view === 'Month') {
                    const first = new Date(y, m, 1);
                    const last = new Date(y, m + 1, 0);
                    const start = startOfWeekMonday(first);
                    const msDay = 24*60*60*1000;
                    const span = Math.round((last - start) / msDay) + 1;
                    return Math.ceil(span / 7) * 7;
                  }
                  return 7;
                })()
            card:
              type: custom:week-planner-card
              calendars:
                - entity: calendar.arthurdarren_gmail_com
                  name: Daz
                  color: "#2962FF"
                  filter: ${ DAZCAL }
                - entity: calendar.nicholaarthur_gmail_com
                  name: Nic
                  color: "#F4A6B8"
                  filter: ${ NICCAL }
                - entity: calendar.arthurcerys_gmail_com
                  name: Cerys
                  color: "#9DB8A0"
                  filter: ${ CERYSCAL }
                - entity: calendar.arthurdexter08_gmail_com
                  name: Dex
                  color: "#FFB703"
                  filter: ${ DEXCAL }
                - entity: calendar.birthdays
                  name: Birthdays
                  color: "#00C853"
                - entity: calendar.holidays_in_the_united_kingdom
                  name: Bank Holidays
                  color: "#6200EA"
              days: ${ DAYS }
              startingDayOffset: ${ OFFSET }
              hideWeekend: false
              noCardBackground: false
              compact: false
              locale: en
              showLocation: true
              hidePastEvents: false
              hideDaysWithoutEvents: false
              hideTodayWithoutEvents: false
              combineSimilarEvents: true
              showLegend: false
              legendToggle: false
              weather:
                showCondition: true
                showTemperature: true
                showLowTemperature: true
                useTwiceDaily: false
                entity: weather.met_office_wickford
              card_mod:
                style: >
                  ha-card {
                    background: rgba(255, 255, 255, 0.65) !important;
                    border-radius: 24px;
                    box-shadow: none;
                  }

                  .event { border-radius: 10px !important; max-height: 90px
                  !important; overflow: hidden !important; }

                  .day { border: solid 1px whitesmoke; padding: 0.2%; }

                  .today .number { border-radius: 5px; background-color: orange
                  !important; padding: 0 4px; }

                  .day .date .number { font-weight: 700 !important; font-size:
                  3em !important; }

                  .day .date .text { font-size: 1em !important; font-weight: 700
                  !important; }
            grid_options:
              columns: 120
              rows: 1
  - title: Add Event
    path: add-event
    icon: mdi:calendar-plus
    type: sections
    max_columns: 6
    sections:
      - type: grid
        column_span: 6
        cards:
          - type: entities
            title: Add Calendar Event
            show_header_toggle: false
            entities:
              - entity: input_select.calendar_select
              - entity: input_boolean.calendar_all_day_event
              - entity: input_text.calendar_event_title
              - entity: input_text.calendar_event_description
              - entity: input_datetime.calendar_event_start
              - entity: input_datetime.calendar_event_end
          - type: custom:button-card
            name: Create Event
            show_icon: false
            tap_action:
              action: perform-action
              perform_action: script.add_google_calendar_event
            styles:
              card:
                - height: 56px
                - border-radius: 16px
                - background: "#efefef"
                - box-shadow: none
                - border: none
              name:
                - font-size: 16px
                - font-weight: 800
          - type: custom:button-card
            name: Back to Calendar
            show_icon: false
            tap_action:
              action: navigate
              navigation_path: /dashboard-skylight/family-calendar
            styles:
              card:
                - height: 56px
                - border-radius: 16px
                - background: "#efefef"
                - box-shadow: none
                - border: none
              name:
                - font-size: 16px
                - font-weight: 800
      - type: grid
        cards:
          - initial_view: listWeek
            type: calendar
            title: Upcoming Events (tap to delete)
            entities:
              - calendar.arthurdarren_gmail_com
              - calendar.nicholaarthur_gmail_com
              - calendar.arthurcerys_gmail_com
              - calendar.arthurdexter08_gmail_com
            grid_options:
              columns: full
              rows: 6
        column_span: 4
  - title: Cameras
    path: cameras
    icon: mdi:cctv
    type: sections
    max_columns: 10
    sections:
      - type: grid
        cards:
          - square: false
            type: grid
            cards:
              - show_state: false
                show_name: true
                camera_view: live
                fit_mode: cover
                type: picture-entity
                entity: camera.front_door_high_resolution_channel
                name: Front door
                card_mod:
                  style: >
                    ha-card { height: 42vh !important; overflow: hidden
                    !important; }

                    hui-image, hui-image > div { height: 100% !important; }

                    img, video { height: 100% !important; width: 100%
                    !important; object-fit: cover !important; }
            columns: 1
            grid_options:
              columns: 30
              rows: 8
        column_span: 2
      - type: grid
        cards:
          - square: false
            type: grid
            cards:
              - show_state: false
                show_name: true
                camera_view: live
                fit_mode: cover
                type: picture-entity
                entity: camera.front_left_high_resolution_channel
                name:
                  - type: text
                    text: Front door
                  - type: device
                card_mod:
                  style: >
                    ha-card { height: 42vh !important; overflow: hidden
                    !important; }

                    hui-image, hui-image > div { height: 100% !important; }

                    img, video { height: 100% !important; width: 100%
                    !important; object-fit: cover !important; }
              - square: false
                type: grid
                cards:
                  - show_state: false
                    show_name: true
                    camera_view: live
                    fit_mode: cover
                    type: picture-entity
                    entity: camera.front_right_high_resolution_channel
                    name: Front door
                    card_mod:
                      style: >
                        ha-card { height: 42vh !important; overflow: hidden
                        !important; }

                        hui-image, hui-image > div { height: 100% !important; }

                        img, video { height: 100% !important; width: 100%
                        !important; object-fit: cover !important; }
                columns: 1
                grid_options:
                  columns: 30
                  rows: 6
            columns: 1
            grid_options:
              columns: 30
              rows: 6
  - title: Games Room
    path: games-room
    icon: mdi:gamepad-variant
    type: sections
    max_columns: 10
    sections:
      - type: grid
        column_span: 10
        cards:
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  padding: 0 !important;
                  margin: 0 !important;
                  box-shadow: none !important;
                  background: none !important;
                }
                #root {
                  padding: 0 !important;
                  margin: 0 !important;
                }
            card:
              type: grid
              columns: 3
              square: false
              card_mod:
                style: |
                  :host {
                    --grid-card-gap: 4px;
                  }
              cards:
                - type: custom:mushroom-template-card
                  primary: Movie
                  icon: mdi:movie-open-play
                  layout: vertical
                  entity: select.games_room_harmony_activities
                  icon_color: |
                    {{ 'orange'
                       if is_state('select.games_room_harmony_activities', 'Kodi Movies')
                       else 'grey' }}
                  tap_action:
                    action: call-service
                    service: automation.trigger
                    target:
                      entity_id: automation.setup_games_room_for_movie
                  styles:
                    card:
                      - padding: 6px
                    icon:
                      - width: 26px
                        height: 26px
                    primary:
                      - font-size: 12px
                - type: custom:mushroom-template-card
                  primary: Start Movie
                  icon: mdi:play-circle
                  layout: vertical
                  tap_action:
                    action: call-service
                    service: automation.trigger
                    target:
                      entity_id: automation.games_room_start_movie
                  styles:
                    card:
                      - padding: 6px
                    icon:
                      - width: 26px
                        height: 26px
                    primary:
                      - font-size: 12px
                - type: custom:mushroom-template-card
                  primary: Sonos
                  icon: mdi:music
                  layout: vertical
                  entity: select.games_room_harmony_activities
                  icon_color: |
                    {{ 'orange'
                       if is_state('select.games_room_harmony_activities', 'Listen to Sonos inside')
                       else 'grey' }}
                  tap_action:
                    action: call-service
                    service: automation.trigger
                    target:
                      entity_id: automation.setup_games_room_for_sonos
                  styles:
                    card:
                      - padding: 6px
                    icon:
                      - width: 26px
                        height: 26px
                    primary:
                      - font-size: 12px
                - type: custom:mushroom-template-card
                  primary: Main
                  icon: mdi:lightbulb
                  entity: switch.iport_area_1
                  icon_color: >
                    {{ 'orange' if is_state('switch.iport_area_1','on') else
                    'grey' }}
                  layout: vertical
                  tap_action:
                    action: toggle
                  styles:
                    card:
                      - padding: 6px
                    icon:
                      - width: 26px
                        height: 26px
                    primary:
                      - font-size: 12px
                - type: custom:mushroom-template-card
                  primary: Pool Table
                  icon: mdi:lightbulb
                  entity: switch.iport_area_2
                  icon_color: >
                    {{ 'orange' if is_state('switch.iport_area_2','on') else
                    'grey' }}
                  layout: vertical
                  tap_action:
                    action: toggle
                  styles:
                    card:
                      - padding: 6px
                    icon:
                      - width: 26px
                        height: 26px
                    primary:
                      - font-size: 12px
                - type: custom:mushroom-template-card
                  primary: Bar
                  icon: mdi:lightbulb
                  entity: switch.iport_area_3
                  icon_color: >
                    {{ 'orange' if is_state('switch.iport_area_3','on') else
                    'grey' }}
                  layout: vertical
                  tap_action:
                    action: toggle
                  styles:
                    card:
                      - padding: 6px
                    icon:
                      - width: 26px
                        height: 26px
                    primary:
                      - font-size: 12px
                - type: custom:mushroom-template-card
                  primary: Outside
                  icon: mdi:lightbulb
                  entity: switch.iport_area_4
                  icon_color: >
                    {{ 'orange' if is_state('switch.iport_area_4','on') else
                    'grey' }}
                  layout: vertical
                  tap_action:
                    action: toggle
                  styles:
                    card:
                      - padding: 6px
                    icon:
                      - width: 26px
                        height: 26px
                    primary:
                      - font-size: 12px
                - type: custom:mushroom-template-card
                  primary: Aircon
                  secondary: >-
                    {{ state_attr('climate.games_room', 'current_temperature')
                    }} °C
                  icon: mdi:air-conditioner
                  entity: climate.games_room
                  icon_color: >
                    {{ 'orange' if not is_state('climate.games_room','off') else
                    'grey' }}
                  layout: vertical
                  tap_action:
                    action: more-info
                  styles:
                    card:
                      - padding: 6px
                    icon:
                      - width: 26px
                        height: 26px
                    primary:
                      - font-size: 12px
                    secondary:
                      - font-size: 11px
                - type: custom:mushroom-template-card
                  primary: "Off"
                  icon: mdi:power-standby
                  layout: vertical
                  tap_action:
                    action: call-service
                    service: automation.trigger
                    target:
                      entity_id: automation.turn_off_games_room
                  styles:
                    card:
                      - padding: 6px
                    icon:
                      - width: 26px
                        height: 26px
                    primary:
                      - font-size: 12px
          - type: media-control
            entity: media_player.osmc_mediaroom
          - type: media-control
            entity: media_player.games_room
            card_mod:
              style: |
                ha-card {
                  border-radius: 24px;
                  box-shadow: none;
                }
  - title: Meal Plan
    path: meal-plan
    icon: mdi:food
    panel: true
    cards:
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 1fr
          grid-template-rows: auto 1fr
          grid-template-areas: |
            "header"
            "table"
          row-gap: 16px
          padding: 16px
        cards:
          - type: custom:layout-card
            layout_type: custom:grid-layout
            layout:
              grid-template-columns: 72px 1fr 72px 72px
              grid-template-areas: |
                "back title copy next"
              column-gap: 12px
              align-items: center
            view_layout:
              grid-area: header
            cards:
              - type: button
                icon: mdi:chevron-left
                show_name: false
                tap_action:
                  action: call-service
                  service: input_select.select_previous
                  target:
                    entity_id: input_select.meal_plan_week
                  data:
                    cycle: true
                view_layout:
                  grid-area: back
              - type: markdown
                content: >
                  <div
                  style="text-align:center;font-size:44px;font-weight:700;line-height:1.1;">
                    {{ states('input_select.meal_plan_week') }}
                  </div>
                view_layout:
                  grid-area: title
              - type: button
                icon: mdi:content-copy
                show_name: false
                tap_action:
                  action: call-service
                  service: script.meal_plan_copy_next_to_this
                view_layout:
                  grid-area: copy
              - type: button
                icon: mdi:chevron-right
                show_name: false
                tap_action:
                  action: call-service
                  service: input_select.select_next
                  target:
                    entity_id: input_select.meal_plan_week
                  data:
                    cycle: true
                view_layout:
                  grid-area: next
          - type: conditional
            conditions:
              - entity: input_select.meal_plan_week
                state: This week
            view_layout:
              grid-area: table
            card:
              type: custom:layout-card
              layout_type: custom:grid-layout
              layout:
                grid-template-columns: minmax(86px, 10vw) 1fr 1fr 1fr 1fr minmax(86px, 10vw)
                grid-template-rows: repeat(8, minmax(58px, auto))
                grid-template-areas: |
                  "dayh bfh lnh dnh ckh clrh"
                  "thu bf_thu ln_thu dn_thu ck_thu clr_thu"
                  "fri bf_fri ln_fri dn_fri ck_fri clr_fri"
                  "sat bf_sat ln_sat dn_sat ck_sat clr_sat"
                  "sun bf_sun ln_sun dn_sun ck_sun clr_sun"
                  "mon bf_mon ln_mon dn_mon ck_mon clr_mon"
                  "tue bf_tue ln_tue dn_tue ck_tue clr_tue"
                  "wed bf_wed ln_wed dn_wed ck_wed clr_wed"
                column-gap: 12px
                row-gap: 12px
              cards:
                - type: markdown
                  content: |
                    **Day**
                  view_layout:
                    grid-area: dayh
                - type: markdown
                  content: |
                    **Breakfast**
                  view_layout:
                    grid-area: bfh
                - type: markdown
                  content: |
                    **Lunch**
                  view_layout:
                    grid-area: lnh
                - type: markdown
                  content: |
                    **Dinner**
                  view_layout:
                    grid-area: dnh
                - type: markdown
                  content: |
                    **Cakes**
                  view_layout:
                    grid-area: ckh
                - type: markdown
                  content: |
                    **Clear**
                  view_layout:
                    grid-area: clrh
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Thursday</b></div>
                  view_layout:
                    grid-area: thu
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Friday</b></div>
                  view_layout:
                    grid-area: fri
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Saturday</b></div>
                  view_layout:
                    grid-area: sat
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Sunday</b></div>
                  view_layout:
                    grid-area: sun
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Monday</b></div>
                  view_layout:
                    grid-area: mon
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Tuesday</b></div>
                  view_layout:
                    grid-area: tue
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Wednesday</b></div>
                  view_layout:
                    grid-area: wed
                - type: button
                  entity: input_text.meal_w1_thu_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_thu
                - type: button
                  entity: input_text.meal_w1_thu_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_thu
                - type: button
                  entity: input_text.meal_w1_thu_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_thu
                - type: button
                  entity: input_text.meal_w1_thu_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_thu
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w1_thu_breakfast
                        - input_text.meal_w1_thu_lunch
                        - input_text.meal_w1_thu_dinner
                        - input_text.meal_w1_thu_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_thu
                - type: button
                  entity: input_text.meal_w1_fri_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_fri
                - type: button
                  entity: input_text.meal_w1_fri_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_fri
                - type: button
                  entity: input_text.meal_w1_fri_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_fri
                - type: button
                  entity: input_text.meal_w1_fri_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_fri
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w1_fri_breakfast
                        - input_text.meal_w1_fri_lunch
                        - input_text.meal_w1_fri_dinner
                        - input_text.meal_w1_fri_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_fri
                - type: button
                  entity: input_text.meal_w1_sat_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_sat
                - type: button
                  entity: input_text.meal_w1_sat_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_sat
                - type: button
                  entity: input_text.meal_w1_sat_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_sat
                - type: button
                  entity: input_text.meal_w1_sat_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_sat
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w1_sat_breakfast
                        - input_text.meal_w1_sat_lunch
                        - input_text.meal_w1_sat_dinner
                        - input_text.meal_w1_sat_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_sat
                - type: button
                  entity: input_text.meal_w1_sun_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_sun
                - type: button
                  entity: input_text.meal_w1_sun_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_sun
                - type: button
                  entity: input_text.meal_w1_sun_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_sun
                - type: button
                  entity: input_text.meal_w1_sun_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_sun
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w1_sun_breakfast
                        - input_text.meal_w1_sun_lunch
                        - input_text.meal_w1_sun_dinner
                        - input_text.meal_w1_sun_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_sun
                - type: button
                  entity: input_text.meal_w1_mon_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_mon
                - type: button
                  entity: input_text.meal_w1_mon_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_mon
                - type: button
                  entity: input_text.meal_w1_mon_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_mon
                - type: button
                  entity: input_text.meal_w1_mon_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_mon
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w1_mon_breakfast
                        - input_text.meal_w1_mon_lunch
                        - input_text.meal_w1_mon_dinner
                        - input_text.meal_w1_mon_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_mon
                - type: button
                  entity: input_text.meal_w1_tue_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_tue
                - type: button
                  entity: input_text.meal_w1_tue_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_tue
                - type: button
                  entity: input_text.meal_w1_tue_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_tue
                - type: button
                  entity: input_text.meal_w1_tue_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_tue
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w1_tue_breakfast
                        - input_text.meal_w1_tue_lunch
                        - input_text.meal_w1_tue_dinner
                        - input_text.meal_w1_tue_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_tue
                - type: button
                  entity: input_text.meal_w1_wed_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_wed
                - type: button
                  entity: input_text.meal_w1_wed_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_wed
                - type: button
                  entity: input_text.meal_w1_wed_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_wed
                - type: button
                  entity: input_text.meal_w1_wed_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_wed
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w1_wed_breakfast
                        - input_text.meal_w1_wed_lunch
                        - input_text.meal_w1_wed_dinner
                        - input_text.meal_w1_wed_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_wed
          - type: conditional
            conditions:
              - entity: input_select.meal_plan_week
                state: Next week
            view_layout:
              grid-area: table
            card:
              type: custom:layout-card
              layout_type: custom:grid-layout
              layout:
                grid-template-columns: minmax(86px, 10vw) 1fr 1fr 1fr 1fr minmax(86px, 10vw)
                grid-template-rows: repeat(8, minmax(58px, auto))
                grid-template-areas: |
                  "dayh bfh lnh dnh ckh clrh"
                  "thu bf_thu ln_thu dn_thu ck_thu clr_thu"
                  "fri bf_fri ln_fri dn_fri ck_fri clr_fri"
                  "sat bf_sat ln_sat dn_sat ck_sat clr_sat"
                  "sun bf_sun ln_sun dn_sun ck_sun clr_sun"
                  "mon bf_mon ln_mon dn_mon ck_mon clr_mon"
                  "tue bf_tue ln_tue dn_tue ck_tue clr_tue"
                  "wed bf_wed ln_wed dn_wed ck_wed clr_wed"
                column-gap: 12px
                row-gap: 12px
              cards:
                - type: markdown
                  content: |
                    **Day**
                  view_layout:
                    grid-area: dayh
                - type: markdown
                  content: |
                    **Breakfast**
                  view_layout:
                    grid-area: bfh
                - type: markdown
                  content: |
                    **Lunch**
                  view_layout:
                    grid-area: lnh
                - type: markdown
                  content: |
                    **Dinner**
                  view_layout:
                    grid-area: dnh
                - type: markdown
                  content: |
                    **Cakes**
                  view_layout:
                    grid-area: ckh
                - type: markdown
                  content: |
                    **Clear**
                  view_layout:
                    grid-area: clrh
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Thursday</b></div>
                  view_layout:
                    grid-area: thu
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Friday</b></div>
                  view_layout:
                    grid-area: fri
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Saturday</b></div>
                  view_layout:
                    grid-area: sat
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Sunday</b></div>
                  view_layout:
                    grid-area: sun
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Monday</b></div>
                  view_layout:
                    grid-area: mon
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Tuesday</b></div>
                  view_layout:
                    grid-area: tue
                - type: markdown
                  content: <div style="white-space:nowrap;"><b>Wednesday</b></div>
                  view_layout:
                    grid-area: wed
                - type: button
                  entity: input_text.meal_w2_thu_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_thu
                - type: button
                  entity: input_text.meal_w2_thu_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_thu
                - type: button
                  entity: input_text.meal_w2_thu_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_thu
                - type: button
                  entity: input_text.meal_w2_thu_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_thu
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w2_thu_breakfast
                        - input_text.meal_w2_thu_lunch
                        - input_text.meal_w2_thu_dinner
                        - input_text.meal_w2_thu_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_thu
                - type: button
                  entity: input_text.meal_w2_fri_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_fri
                - type: button
                  entity: input_text.meal_w2_fri_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_fri
                - type: button
                  entity: input_text.meal_w2_fri_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_fri
                - type: button
                  entity: input_text.meal_w2_fri_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_fri
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w2_fri_breakfast
                        - input_text.meal_w2_fri_lunch
                        - input_text.meal_w2_fri_dinner
                        - input_text.meal_w2_fri_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_fri
                - type: button
                  entity: input_text.meal_w2_sat_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_sat
                - type: button
                  entity: input_text.meal_w2_sat_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_sat
                - type: button
                  entity: input_text.meal_w2_sat_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_sat
                - type: button
                  entity: input_text.meal_w2_sat_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_sat
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w2_sat_breakfast
                        - input_text.meal_w2_sat_lunch
                        - input_text.meal_w2_sat_dinner
                        - input_text.meal_w2_sat_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_sat
                - type: button
                  entity: input_text.meal_w2_sun_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_sun
                - type: button
                  entity: input_text.meal_w2_sun_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_sun
                - type: button
                  entity: input_text.meal_w2_sun_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_sun
                - type: button
                  entity: input_text.meal_w2_sun_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_sun
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w2_sun_breakfast
                        - input_text.meal_w2_sun_lunch
                        - input_text.meal_w2_sun_dinner
                        - input_text.meal_w2_sun_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_sun
                - type: button
                  entity: input_text.meal_w2_mon_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_mon
                - type: button
                  entity: input_text.meal_w2_mon_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_mon
                - type: button
                  entity: input_text.meal_w2_mon_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_mon
                - type: button
                  entity: input_text.meal_w2_mon_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_mon
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w2_mon_breakfast
                        - input_text.meal_w2_mon_lunch
                        - input_text.meal_w2_mon_dinner
                        - input_text.meal_w2_mon_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_mon
                - type: button
                  entity: input_text.meal_w2_tue_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_tue
                - type: button
                  entity: input_text.meal_w2_tue_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_tue
                - type: button
                  entity: input_text.meal_w2_tue_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_tue
                - type: button
                  entity: input_text.meal_w2_tue_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_tue
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w2_tue_breakfast
                        - input_text.meal_w2_tue_lunch
                        - input_text.meal_w2_tue_dinner
                        - input_text.meal_w2_tue_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_tue
                - type: button
                  entity: input_text.meal_w2_wed_breakfast
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: bf_wed
                - type: button
                  entity: input_text.meal_w2_wed_lunch
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ln_wed
                - type: button
                  entity: input_text.meal_w2_wed_dinner
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: dn_wed
                - type: button
                  entity: input_text.meal_w2_wed_cakes
                  show_name: false
                  show_icon: false
                  show_state: true
                  tap_action:
                    action: more-info
                  view_layout:
                    grid-area: ck_wed
                - type: button
                  icon: mdi:trash-can-outline
                  show_name: false
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    target:
                      entity_id:
                        - input_text.meal_w2_wed_breakfast
                        - input_text.meal_w2_wed_lunch
                        - input_text.meal_w2_wed_dinner
                        - input_text.meal_w2_wed_cakes
                    data:
                      value: ""
                  view_layout:
                    grid-area: clr_wed
